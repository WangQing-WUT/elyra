{
	"type": "object",
	"properties": {
		"label": {
			"title": "Name",
			"description": "A custom name for the node.",
			"type": "string",
			"pattern": "^[0-9]*$"
		},
		"component_parameters": {
			"type": "object",
			"properties": {
				{% if  component.name == "Dataset Event" %}
				"event_filter": {
					"type": "array",
					"title": "Dataset Event Filter",
					"description": "Dataset event filter.",
					"items": {
						"type": "object",
						"properties": {
							"id": {
								"type": "string",
								"title": "Id"
							},
							"name": {
								"type": "string",
								"title": "Name",
								"enum": ["name", "operate", "samples", "create_at"]
							}
						},
						"allOf": [
							{
								"if": {
        							"properties": {
          								"name": {
           					 				"const": "name"
     						  			}
       								}
      							},
								"then": {
        							"properties": {
          								"operate": {
            								"type": "string",
											"title": "Operate",
											"enum": ["=="]
         								},
										"value": {
											"title": "Value",
											"oneOf":[
												{
													"label": " ",
													"properties": {
														"value": {
															"type": "string",
															"default": ""
														},
														"widget": {
															"type": "string",
															"default": ""
														}
													},
													"uihints":{
														"widget": {"ui:field": "hidden"},
														"value": {"ui:field": "hidden"}
													}
												},
												{
													"label": "Enter a value manually",
													"properties": {
														"value": {
															"type": "string",
															"default": ""
														},
														"widget": {
															"type": "string",
															"default": "string"
														}
													},
													"uihints":{
														"widget": {"ui:field": "hidden"}
													}
												},
												{
													"label": "Select one of the workflow input parameters",
													"properties": {
														"value": {
															"type": "string",
															"enum": [""],
															"default": ""
														},
														"widget": {
															"type": "string",
															"default": "enum"
														}
													},
													"uihints":{
														"widget": {"ui:field": "hidden"}
													}
												}
											]
										}
       								}
								}
							},
							{
								"if": {
        							"properties": {
          								"name": {
           					 				"const": "operate"
     						  			}
       								}
      							},
								"then": {
        							"properties": {
          								"operate": {
            								"type": "string",
											"title": "Operate",
											"enum": ["=="]
         								},
										"value": {
											"type": "string",
											"title": "Value",
											"enum": ["create", "pulish", "subscribe", "delete", "change", "unsubscribe"]
										}
       								}
								}
							},
							{
								"if": {
        							"properties": {
          								"name": {
           					 				"const": "samples"
     						  			}
       								}
      							},
								"then": {
        							"properties": {
          								"operate": {
            								"type": "string",
											"title": "Operate",
											"enum": [">", "<", "==", ">=", "<=", "!=", "%" ]
         								},
										"value": {
											"title": "Value",
											"oneOf":[
												{
													"label": " ",
													"properties": {
														"value": {
															"type": "string",
															"default": ""
														},
														"widget": {
															"type": "string",
															"default": ""
														}
													},
													"uihints":{
														"widget": {"ui:field": "hidden"},
														"value": {"ui:field": "hidden"}
													}
												},
												{
													"label": "Enter a value manually",
													"properties": {
														"value": {
															"type": "integer",
															"default": ""
														},
														"widget": {
															"type": "string",
															"default": "string"
														}
													},
													"uihints":{
														"widget": {"ui:field": "hidden"}
													}
												},
												{
													"label": "Select one of the workflow input parameters",
													"properties": {
														"value": {
															"type": "string",
															"enum": [""],
															"default": ""
														},
														"widget": {
															"type": "string",
															"default": "enum"
														}
													},
													"uihints":{
														"widget": {"ui:field": "hidden"}
													}
												}
											]
										}
       								}
								}
							},
							{
								"if": {
        							"properties": {
          								"name": {
           					 				"const": "create_at"
     						  			}
       								}
      							},
								"then": {
        							"properties": {
          								"operate": {
            								"type": "string",
											"title": "Operate",
											"enum": ["before", "after"]
         								},
										"value": {
											"type": "string",
											"title": "Value",
											"format": "datetime"
										}
       								}
								}
							}
						],
						"required": ["name", "operate", "value"]
					},
					"uihints":{
						"items": {
							"id": { "ui:readonly": "true" }
						}
					}
				},
				{% endif %}
			    {% if  component.name == "Model Event" %}
				"event_filter": {
					"type": "array",
					"title": "Model Event Filter",
					"description": "Model event filter.",
					"items": {
						"type": "object",
						"properties": {
							"id": {
								"type": "string",
								"title": "Id"
							},
							"name": {
								"type": "string",
								"title": "Name",
								"enum": ["name", "operate", "version", "create_at", "update_at"]
							}
						},
						"allOf": [
							{
								"if": {
        							"properties": {
          								"name": {
           					 				"const": "name"
     						  			}
       								}
      							},
								"then": {
        							"properties": {
          								"operate": {
            								"type": "string",
											"title": "Operate",
											"enum": ["=="]
         								},
										"value": {
											"title": "Value",
											"oneOf":[
												{
													"label": " ",
													"properties": {
														"value": {
															"type": "string",
															"default": ""
														},
														"widget": {
															"type": "string",
															"default": ""
														}
													},
													"uihints":{
														"widget": {"ui:field": "hidden"},
														"value": {"ui:field": "hidden"}
													}
												},
												{
													"label": "Enter a value manually",
													"properties": {
														"value": {
															"type": "string",
															"default": ""
														},
														"widget": {
															"type": "string",
															"default": "string"
														}
													},
													"uihints":{
														"widget": {"ui:field": "hidden"}
													}
												},
												{
													"label": "Select one of the workflow input parameters",
													"properties": {
														"value": {
															"type": "string",
															"enum": [""],
															"default": ""
														},
														"widget": {
															"type": "string",
															"default": "enum"
														}
													},
													"uihints":{
														"widget": {"ui:field": "hidden"}
													}
												}
											]
										}
       								}
								}
							},
							{
								"if": {
        							"properties": {
          								"name": {
           					 				"const": "operate"
     						  			}
       								}
      							},
								"then": {
        							"properties": {
          								"operate": {
            								"type": "string",
											"title": "Operate",
											"enum": ["=="]
         								},
										"value": {
											"type": "string",
											"title": "Value",
											"enum": ["create", "delete"]
										}
       								}
								}
							},
							{
								"if": {
        							"properties": {
          								"name": {
           					 				"const": "version"
     						  			}
       								}
      							},
								"then": {
        							"properties": {
          								"operate": {
            								"type": "string",
											"title": "Operate",
											"enum": ["=="]
         								},
										"value": {
											"title": "Value",
											"oneOf":[
												{
													"label": " ",
													"properties": {
														"value": {
															"type": "string",
															"default": ""
														},
														"widget": {
															"type": "string",
															"default": ""
														}
													},
													"uihints":{
														"widget": {"ui:field": "hidden"},
														"value": {"ui:field": "hidden"}
													}
												},
												{
													"label": "Enter a value manually",
													"properties": {
														"value": {
															"type": "string",
															"default": ""
														},
														"widget": {
															"type": "string",
															"default": "string"
														}
													},
													"uihints":{
														"widget": {"ui:field": "hidden"}
													}
												},
												{
													"label": "Select one of the workflow input parameters",
													"properties": {
														"value": {
															"type": "string",
															"enum": [""],
															"default": ""
														},
														"widget": {
															"type": "string",
															"default": "enum"
														}
													},
													"uihints":{
														"widget": {"ui:field": "hidden"}
													}
												}
											]
										}
       								}
								}
							},
							{
								"if": {
        							"properties": {
          								"name": {
           					 				"enum": ["create_at", "update_at"]
     						  			}
       								}
      							},
								"then": {
        							"properties": {
          								"operate": {
            								"type": "string",
											"title": "Operate",
											"enum": ["before", "after"]
         								},
										"value": {
											"type": "string",
											"title": "Value",
											"format": "datetime"
										}
       								}
								}
							}
						],
						"required": ["name", "operate", "value"]
					},
					"uihints":{
						"items": {
							"id": { "ui:readonly": "true" }
						}
					}
				},
				{% endif %}
				{% if  component.name == "S3 Event" %}
				"bucket": {
					"type": "object",
					"properties": {
						"name": {
							"type": "string",
							"title": "Bucket Name",
							"description": "Bucket name."
						}
					},
					"required": ["name"]
				},
				"event_filter": {
					"type": "array",
					"title": "S3 Event Filter",
					"description": "S3 Event filter.",
					"items": {
						"type": "object",
						"properties": {
							"id": {
								"type": "string",
								"title": "Id"
							},
							"name": {
								"type": "string",
								"title": "Name",
								"enum": ["operate", "object"]
							}
						},
						"allOf": [
							{
								"if": {
        							"properties": {
          								"name": {
           					 				"const": "operate"
     						  			}
       								}
      							},
								"then": {
        							"properties": {
          								"operate": {
            								"type": "string",
											"title": "Operate",
											"enum": ["==", "!="]
         								},
										"value": {
											"type": "string",
											"title": "Value",
											"enum": [
												"ObjectAccessed:Get",
												"ObjectAccessed:GetLegalHold",
												"ObjectAccessed:GetRetention",
												"ObjectAccessed:Head",
												"ObjectCreated:CompleteMultipartUpload",
												"ObjectCreated:Copy",
												"ObjectCreated:DeleteTagging",
												"ObjectCreated:Post",
												"ObjectCreated:Put",
												"ObjectCreated:PutLegalHold",
												"ObjectCreated:PutRetention",
												"ObjectCreated:PutTagging",
												"ObjectRemoved:Delete",
												"ObjectRemoved:DeleteMarkerCreated",
												"ObjectAccessed:*",
												"ObjectCreated:*",
												"ObjectRemoved:*",
												"Replication:OperationCompletedReplication",
												"Replication:OperationFailedReplication",
												"Replication:OperationMissedThreshold",
												"Replication:OperationNotTracked",
												"Replication:OperationReplicatedAfterThreshold",
												"Replication:*",
												"ObjectRestore:Post",
												"ObjectRestore:Completed",
												"ObjectRestore:*",
												"ObjectTransition:Failed",
												"ObjectTransition:Complete",
												"ObjectTransition:*",
												"BucketCreated",
												"BucketRemoved"
											]
										}
       								}
								}
							},
							{
								"if": {
        							"properties": {
          								"name": {
           					 				"const": "object"
     						  			}
       								}
      							},
								"then": {
        							"properties": {
          								"operate": {
            								"type": "string",
											"title": "Operate",
											"enum": ["prefix", "suffix"]
         								},
										"value": {
											"title": "Value",
											"oneOf":[
												{
													"label": " ",
													"properties": {
														"value": {
															"type": "string",
															"default": ""
														},
														"widget": {
															"type": "string",
															"default": ""
														}
													},
													"uihints":{
														"widget": {"ui:field": "hidden"},
														"value": {"ui:field": "hidden"}
													}
												},
												{
													"label": "Enter a value manually",
													"properties": {
														"value": {
															"type": "string",
															"default": ""
														},
														"widget": {
															"type": "string",
															"default": "string"
														}
													},
													"uihints":{
														"widget": {"ui:field": "hidden"}
													}
												},
												{
													"label": "Select one of the workflow input parameters",
													"properties": {
														"value": {
															"type": "string",
															"enum": [""],
															"default": ""
														},
														"widget": {
															"type": "string",
															"default": "enum"
														}
													},
													"uihints":{
														"widget": {"ui:field": "hidden"}
													}
												}
											]
										}
       								}
								}
							}
						],
						"required": ["name", "operate", "value"]
					},
					"uihints":{
						"items": {
							"id": { "ui:readonly": "true" }
						}
					}
				},
				{% endif %}
				{% if  component.name == "Pipeline Event" %}
				"event_filter": {
					"type": "array",
					"title": "Pipeline Event Filter",
					"description": "Pipeline event filter.",
					"items": {
						"type": "object",
						"properties": {
							"id": {
								"type": "string",
								"title": "Id"
							},
							"name": {
								"type": "string",
								"title": "Name",
								"enum": ["name", "operate", "create_at"]
							}
						},
						"allOf": [
							{
								"if": {
        							"properties": {
          								"name": {
           					 				"const": "name"
     						  			}
       								}
      							},
								"then": {
        							"properties": {
          								"operate": {
            								"type": "string",
											"title": "Operate",
											"enum": ["prefix"]
         								},
										"value": {
											"title": "Value",
											"oneOf":[
												{
													"label": " ",
													"properties": {
														"value": {
															"type": "string",
															"default": ""
														},
														"widget": {
															"type": "string",
															"default": ""
														}
													},
													"uihints":{
														"widget": {"ui:field": "hidden"},
														"value": {"ui:field": "hidden"}
													}
												},
												{
													"label": "Enter a value manually",
													"properties": {
														"value": {
															"type": "string",
															"default": ""
															},
														"widget": {
															"type": "string",
															"default": "string"
														}
													},
													"uihints":{
														"widget": {"ui:field": "hidden"}
													}
												},
												{
													"label": "Select one of the workflow input parameters",
													"properties": {
														"value": {
															"type": "string",
															"enum": [""],
															"default": ""
														},
														"widget": {
															"type": "string",
															"default": "enum"
														}
													},
													"uihints":{
														"widget": {"ui:field": "hidden"}
													}
												}
											]
										}
       								}
								}
							},
							{
								"if": {
        							"properties": {
          								"name": {
           					 				"const": "operate"
     						  			}
       								}
      							},
								"then": {
        							"properties": {
          								"operate": {
            								"type": "string",
											"title": "Operate",
											"enum": ["=="]
         								},
										"value": {
											"type": "string",
											"title": "Value",
											"enum": ["ADD", "UPDATE", "DELETE"]
										}
       								}
								}
							},
							{
								"if": {
        							"properties": {
          								"name": {
           					 				"const": "create_at"
     						  			}
       								}
      							},
								"then": {
        							"properties": {
          								"operate": {
            								"type": "string",
											"title": "Operate",
											"enum": ["before"]
         								},
										"value": {
											"type": "string",
											"title": "Value",
											"format": "datetime"
										}
       								}
								}
							}
						],
						"required": ["name", "operate", "value"]
					},
					"uihints":{
						"items": {
							"id": { "ui:readonly": "true" }
						}
					}
				},
				{% endif %}
				{% if  component.name == "Calendar Event" %}
				"interval": {
					"title": "Interval",
					"description": "Calendar interval, such as 30s, 60m, 24h, etc.",
					"type": "array",
					"items":{
						"type": "object",
						"properties": {
							"value": {
								"title": "Value",
								"description": "Calendar interval value.",
								"type": "integer"
							},
							"unit": {
								"title": "Unit",
								"description": "Calendar interval unit.",
								"type": "string",
								"enum":["hours", "minitus", "second"]
							}
						},
						"required": ["value", "unit"]
					},
					"maxItems": 1
				},
				"schedule": {
					"type": "string",
					"title": "Schedule",
					"description": "You can visit the website cronmaker.com to generate cron expressions online."
				}
				{% endif %}
				{% if  component.name != "Calendar Event" %}
				"expression": {
					"type": "string",
					"title": "Expression",
					"description": "{{component.name}} expression."
				}
				{% endif %}
			},
			"required": ["expression"]
		}
	},
	"required": ["label", "component_parameters"]
}